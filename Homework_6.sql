SET SCHEMA FN71923;

-- DEGREES
INSERT INTO DEGREE VALUES ('DMS', 'Doctor Math Sciences');
INSERT INTO DEGREE VALUES ('DIS', 'Doctor Informatic Sciences');
INSERT INTO DEGREE VALUES ('DL', 'Doctor Languages');
INSERT INTO DEGREE VALUES ('DCS', 'Doctor Chemistry Sciences');

-- FACULTIES
INSERT INTO FACULTIES VALUES ('FMI', '01', 'James Boucher No.5');
INSERT INTO FACULTIES VALUES ('FHF', '02', 'James Boucher No.5');

-- DEPARTMENTS
INSERT INTO DEPARTMENTS VALUES ('Algebra', '01', NULL);
INSERT INTO DEPARTMENTS VALUES ('Probability and statistics', 1, NULL);
INSERT INTO DEPARTMENTS VALUES ('Geometry', '01', NULL);
INSERT INTO DEPARTMENTS VALUES ('Analysis', '01', NULL);
INSERT INTO DEPARTMENTS VALUES ('Computer informatics', '01', NULL);
INSERT INTO DEPARTMENTS VALUES ('Software technologies', '01', NULL);
INSERT INTO DEPARTMENTS VALUES ('Differential Equations', '01', NULL);

--TEACHERS
INSERT INTO TEACHER VALUES ('Evgenia Velikova', '7012253415', 'PHD', 'Algebra');
INSERT INTO TEACHER VALUES ('Asen Bojilov', '6205233312', 'PROF', 'Algebra');
INSERT INTO TEACHER VALUES ('Maya Stoyanova', '7103043415', 'PHD', 'Algebra');
INSERT INTO TEACHER VALUES ('Dontcho Dontchev', '5812253415', 'PHD', 'Probability and statistics');
INSERT INTO TEACHER VALUES ('Deyan Palejev', '7605233312', 'DOC', 'Probability and statistics');
INSERT INTO TEACHER VALUES ('Bogdan Aleksandrov', '6301018632', 'PHD', 'Geometry');
INSERT INTO TEACHER VALUES ('Milko Takev', '6204018147', 'PHD', 'Analysis');
INSERT INTO TEACHER VALUES ('Radoslava Hristova', '8805123415', 'PHD', 'Computer informatics');
INSERT INTO TEACHER VALUES ('Vladimir Dimitrov', '5703113719', 'PROF', 'Computer informatics');
INSERT INTO TEACHER VALUES ('Dimitar Dimitrov', '9105223961', 'PHD', 'Computer informatics');
INSERT INTO TEACHER VALUES ('Kalin Georgiev', '8003083211', 'PHD', 'Computer informatics');
INSERT INTO TEACHER VALUES ('Olga Georgieva', '7410233920', 'DOC', 'Software technologies');
INSERT INTO TEACHER VALUES ('Tsvetan Hristov', '7808233022', 'PHD', 'Differential Equations');

--ADD MENTOR TO DEPARTMENTS
UPDATE DEPARTMENTS SET TEACHEREGN = '6205233312' WHERE NAME = 'Algebra';
UPDATE DEPARTMENTS SET TEACHEREGN = '5812253415' WHERE NAME = 'Probability and statistics';
UPDATE DEPARTMENTS SET TEACHEREGN = '6301018632' WHERE NAME = 'Geometry';
UPDATE DEPARTMENTS SET TEACHEREGN = '6204018147' WHERE NAME = 'Analysis';
UPDATE DEPARTMENTS SET TEACHEREGN = '8805123415' WHERE NAME = 'Computer informatics';
UPDATE DEPARTMENTS SET TEACHEREGN = '7410233920' WHERE NAME = 'Software technologies';
UPDATE DEPARTMENTS SET TEACHEREGN = '7808233022' WHERE NAME = 'Differential Equations';

-- STUDENTS
INSERT INTO STUDENTS VALUES ('Cvetelina Kirilova', '0000000001', '00001', 'Information systems', 2, '01', '6204018147');
INSERT INTO STUDENTS VALUES ('Dimitar Dimitrov', '0000000002', '00002', 'Information systems', 2, '01', '6204018147');
INSERT INTO STUDENTS VALUES ('Dimitar Sotirov', '0000000003', '00003', 'Information systems', 2, '01', '6204018147');
INSERT INTO STUDENTS VALUES ('Ivailo Stoyanov', '0000000004', '00004', 'Information systems', 2, '01', '6204018147');
INSERT INTO STUDENTS VALUES ('Kaloyan Sharkov', '0000000005', '00005', 'Information systems', 2, '01', '6204018147');
INSERT INTO STUDENTS VALUES ('Kristiana Atanasova', '0000000006', '00006', 'Information systems', 2, '01', '6204018147');
INSERT INTO STUDENTS VALUES ('Lachezar Peshterliev', '0000000007', '00007', 'Information systems', 2, '01', '6204018147');
INSERT INTO STUDENTS VALUES ('Rositsa Deyanova', '0000000008', '00008', 'Information systems', 2, '01', '6204018147');
INSERT INTO STUDENTS VALUES ('Veselin Todorov', '0000000009', '00009', 'Information systems', 2, '01', '6204018147');
INSERT INTO STUDENTS VALUES ('Yoanna Vasileva', '0000000010', '00010', 'Information systems', 2, '01', '6204018147');
INSERT INTO STUDENTS VALUES ('Aleksandar Filisyan', '0000000011', '00011', 'Information systems', 2, '01', '6204018147');
INSERT INTO STUDENTS VALUES ('Andon Denkov', '0000000012', '00012', 'Information systems', 2, '01', '6204018147');
INSERT INTO STUDENTS VALUES ('Atanas Ivanov', '0000000013', '00013', 'Information systems', 2, '01', '6204018147');
INSERT INTO STUDENTS VALUES ('Betina Mladenova', '0000000014', '00014', 'Information systems', 2, '01', '6204018147');
INSERT INTO STUDENTS VALUES ('Damiana Dimova', '0000000015', '00015', 'Information systems', 2, '01', '6204018147');
INSERT INTO STUDENTS VALUES ('Evelina Popova', '0000000016', '00016', 'Information systems', 2, '01', '6204018147');
INSERT INTO STUDENTS VALUES ('Nikolay Aleksiev', '0000000017', '00017', 'Information systems', 2, '01', '6204018147');
INSERT INTO STUDENTS VALUES ('Petar Zemqrski', '0000000018', '00018', 'Information systems', 2, '01', '6204018147');
INSERT INTO STUDENTS VALUES ('Mariya Qneva', '0000000019', '00019', 'Information systems', 2, '01', '6204018147');
INSERT INTO STUDENTS VALUES ('Aleksandar Ganchev', '0000000020', '00020', 'Information systems', 2, '01', '6204018147');

-- COURSES
INSERT INTO COURSES VALUES ('Linear algebra', 1, 2020, 'Applied maths', NULL, '7012253415');
INSERT INTO COURSES VALUES ('Fractals', 2, 2020, 'Maths', NULL, '6204018147');
INSERT INTO COURSES VALUES ('Databases', 3, 2020, 'Computer science core', NULL, '8805123415');
INSERT INTO COURSES VALUES ('Web technologies', 4, 2020, 'Computer science core', NULL, '8003083211');
INSERT INTO COURSES VALUES ('Intro to programming', 5, 2020, 'Computer science basics', NULL, '9105223961');

-- ATTENDS
INSERT INTO ATTENDS VALUES ('0000000002', 1, 2020);
INSERT INTO ATTENDS VALUES ('0000000005', 1, 2020);
INSERT INTO ATTENDS VALUES ('0000000011', 1, 2020);
INSERT INTO ATTENDS VALUES ('0000000013', 1, 2020);
INSERT INTO ATTENDS VALUES ('0000000016', 1, 2020);
INSERT INTO ATTENDS VALUES ('0000000001', 2, 2020);
INSERT INTO ATTENDS VALUES ('0000000005', 2, 2020);
INSERT INTO ATTENDS VALUES ('0000000010', 2, 2020);
INSERT INTO ATTENDS VALUES ('0000000014', 2, 2020);
INSERT INTO ATTENDS VALUES ('0000000017', 2, 2020);
INSERT INTO ATTENDS VALUES ('0000000003', 3, 2020);
INSERT INTO ATTENDS VALUES ('0000000009', 3, 2020);
INSERT INTO ATTENDS VALUES ('0000000011', 3, 2020);
INSERT INTO ATTENDS VALUES ('0000000018', 3, 2020);
INSERT INTO ATTENDS VALUES ('0000000019', 3, 2020);
INSERT INTO ATTENDS VALUES ('0000000001', 4, 2020);
INSERT INTO ATTENDS VALUES ('0000000004', 4, 2020);
INSERT INTO ATTENDS VALUES ('0000000011', 4, 2020);
INSERT INTO ATTENDS VALUES ('0000000019', 4, 2020);
INSERT INTO ATTENDS VALUES ('0000000020', 4, 2020);
INSERT INTO ATTENDS VALUES ('0000000016', 5, 2020);
INSERT INTO ATTENDS VALUES ('0000000007', 5, 2020);
INSERT INTO ATTENDS VALUES ('0000000008', 5, 2020);
INSERT INTO ATTENDS VALUES ('0000000010', 5, 2020);
INSERT INTO ATTENDS VALUES ('0000000011', 5, 2020);

-- HAS DEGREE
INSERT INTO HASDEGREE VALUES ('5812253415', 'DMS');
INSERT INTO HASDEGREE VALUES ('5812253415', 'DIS');
INSERT INTO HASDEGREE VALUES ('6204018147', 'DMS');
INSERT INTO HASDEGREE VALUES ('6301018632', 'DMS');
INSERT INTO HASDEGREE VALUES ('7808233022', 'DMS');
INSERT INTO HASDEGREE VALUES ('5703113719', 'DIS');
INSERT INTO HASDEGREE VALUES ('8805123415', 'DIS');
INSERT INTO HASDEGREE VALUES ('8003083211', 'DIS');
INSERT INTO HASDEGREE VALUES ('7410233920', 'DIS');
INSERT INTO HASDEGREE VALUES ('9105223961', 'DIS');

-- VIEWS
CREATE VIEW ATTENDEDCOURSES AS
SELECT S.NAME AS STUDENTNAME, C.NAME AS COURSENAME
FROM STUDENTS S, ATTENDS A, COURSES C
WHERE S.EGN = A.STUDENTEGN AND A.COURSEYEAR = C.YEAR AND A.COURSENUMBER = C.COURSENUMBER;

SELECT * FROM ATTENDEDCOURSES;

CREATE VIEW MENTOROFDEPARTMENTS AS
SELECT D.NAME AS DEPARTMENT, T.NAME AS TEACHER
FROM DEPARTMENTS D, TEACHER T
WHERE D.TEACHEREGN = T.TEACHEREGN;

SELECT * FROM MENTOROFDEPARTMENTS;